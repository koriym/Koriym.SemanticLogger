; BEAR.Resource Development PHP Configuration
; Optimized settings for Semantic Profiler

[Xdebug]
; Manual control - profiling scope controlled by SemanticInvoker
; Uncomment if extension is not already loaded
; zend_extension=xdebug.so
xdebug.mode=develop,debug,profile,trace
; Disable auto-start - controlled by SemanticInvoker
xdebug.start_with_request=no
; Trace file settings (Xdebug 3.x format)
xdebug.output_dir=/tmp
xdebug.trace_format=1
xdebug.trace_options=2|8

; Disable compression - output raw trace files
xdebug.use_compression=0

; Profile settings (Xdebug 3.x format)
xdebug.profiler_output_name=xdebug_profile.%r.%u
xdebug.trace_output_name = "trace.%c.xt"
xdebug.collect_params=1
xdebug.collect_return=1
xdebug.collect_assignments=1


[XHProf]
; Manual control - explicitly started/stopped by SemanticInvoker
; Do not use auto_prepend_file (to limit measurement scope)
; Uncomment if extension is not already installed
extension=/opt/homebrew/Cellar/php@8.3/8.3.24/pecl/20230831/xhprof.so
xhprof.output_dir=/tmp

[Memory]
; Memory limit - account for profiling overhead
memory_limit=256M

[Performance]
; OpCache settings - moderate restrictions for development
opcache.enable=1
opcache.validate_timestamps=1
opcache.revalidate_freq=0

; Error Reporting
error_reporting=E_ALL
display_errors=1
log_errors=1
