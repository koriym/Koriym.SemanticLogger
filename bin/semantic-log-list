#!/usr/bin/env php
<?php

require __DIR__ . '/autoload.php';

use Koriym\SemanticLogger\SemanticCli;

function showUsage(): void
{
    echo "Usage: semantic-log-list [directory]\n\n";
    echo "List all semantic profile log files with details.\n\n";
    echo "Arguments:\n";
    echo "  directory   Target directory (default: current directory)\n";
}

// Parse command line arguments
$directory = $argv[1] ?? '.';

if ($directory === 'help' || $directory === '--help' || $directory === '-h') {
    showUsage();
    exit(0);
}

try {
    $cli = new SemanticCli($directory);
    echo $cli->listSemanticProfiles() . "\n";
} catch (Exception $e) {
    echo "Error: " . $e->getMessage() . "\n";
    exit(1);
}