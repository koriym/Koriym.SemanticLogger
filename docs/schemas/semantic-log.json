{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://koriym.github.io/Koriym.SemanticLogger/schemas/semantic-log.json",
  "title": "BEAR.Resource Semantic Log",
  "description": "Schema for BEAR.Resource semantic logging - structured performance profiling data designed for AI understanding",
  "links": [
    {
      "rel": "describedby",
      "href": "https://bearsunday.github.io/BEAR.Resource/llms-full.txt",
      "title": "BEAR.Resource Framework"
    },
    {
      "rel": "describedby",
      "href": "https://koriym.github.io/Koriym.SemanticLogger/llms-full.txt",
      "title": "Semantic Logger Structure"
    },
    {
      "anchor": "#/schemaUrl",
      "rel": "describedby",
      "href": "https://tools.ietf.org/html/rfc3986",
      "title": "URI Generic Syntax (RFC 3986)"
    }
  ],
  "type": "object",
  "required": ["schemaUrl", "open", "close"],
  "properties": {
    "schemaUrl": {
      "type": "string",
      "format": "uri",
      "description": "URL to the semantic log schema"
    },
    "open": {
      "$ref": "https://koriym.github.io/Koriym.SemanticLogger/schemas/open-context.json",
      "description": "Resource request initiation context with profiling start"
    },
    "close": {
      "oneOf": [
        {
          "$ref": "https://koriym.github.io/Koriym.SemanticLogger/schemas/complete-context.json"
        },
        {
          "$ref": "https://koriym.github.io/Koriym.SemanticLogger/schemas/error-context.json"
        }
      ],
      "description": "Resource completion or error context with profiling results"
    },
    "events": {
      "type": "array",
      "description": "Additional events during resource processing",
      "items": {
        "type": "object"
      }
    },
    "links": {
      "type": "array",
      "description": "HAL-style links for semantic relationships",
      "items": {
        "type": "object"
      }
    }
  },
  "additionalProperties": false,
  "definitions": {
    "contextType": {
      "type": "string",
      "enum": ["bear_resource_request", "bear_resource_complete", "bear_resource_error"],
      "description": "Context type identifier for semantic log entries. Each type is defined by its corresponding schema: open-context.json for bear_resource_request, complete-context.json for bear_resource_complete, and error-context.json for bear_resource_error"
    }
  }
}
